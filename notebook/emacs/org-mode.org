#+TITLE:      Org mode

* 目录                                                    :TOC_4_gh:noexport:
- [[#使用技巧][使用技巧]]
  - [[#agenda-views-相关][Agenda Views 相关]]
  - [[#org-导出为-html-时使用-css文件-中的样式高亮代码][Org 导出为 HTML 时使用 CSS文件 中的样式高亮代码]]
  - [[#使用-clocktable-进行时间统计][使用 clocktable 进行时间统计]]
- [[#问题集][问题集]]
  - [[#如何将-org-capture-捕获的内容插入当前光标位置][如何将 org-capture 捕获的内容插入当前光标位置]]
  - [[#怎样在-org-table-中计算日期][怎样在 org-table 中计算日期]]

* 使用技巧
** Agenda Views 相关
   + Agenda Views 默认会显示每个条目的 ~CATEGORY~ 属性，该属性可以通过快捷键 ~C-c C-x p~ 进行插入
   + Agenda Views 中可以通过快捷键 ~C-k~ 删除条目，也可以通过 ~B f org-agenda-kill~ 批量删除标记的条目

** Org 导出为 HTML 时使用 CSS文件 中的样式高亮代码
   通过将 ~org-html-htmlize-output-type~ 设置为 ~css~ 来让导出的 ~HTML~ 中的代码部分使用 ~CSS~ 文件中的高亮样式。

** 使用 clocktable 进行时间统计
   可以通过快捷键 ~C-c C-x C-r~ 插入 clock table 来进行时间统计，其中：
   + 通过用双引号包围的 tag 来过滤条目，不同的 tag 用 ~|~ 进行分隔
     #+BEGIN_SRC org
       ,#+BEGIN: clocktable :tags "tag1|tag2"

       ,#+END:
     #+END_SRC

   + 通过 tstart 指定起始时间：
     #+BEGIN_SRC org
       ,#+BEGIN: clocktable :scope tree :maxlevel 1 :tstart "<2019-01-21>"
     #+END_SRC

* 问题集
** 如何将 org-capture 捕获的内容插入当前光标位置
   #+BEGIN_QUOTE
   When called with a ‘C-0’ (zero) prefix, insert a template at point.
   #+END_QUOTE

   可以将其定义为方便使用的函数：
   #+BEGIN_SRC elisp
     (defun org-capture-at-point ()
       "Insert an org capture template at point."
       (interactive)
       (org-capture 0))
   #+END_SRC

** 怎样在 org-table 中计算日期
   直接用列进行加减就可以了，也可以用函数 ~now~ 表示当前的时间：
   #+BEGIN_EXAMPLE
    ,#+TBLFM: $5=($2 - now()); %dd
   #+END_EXAMPLE

