#+TITLE:      Emacs 笔记

* 目录                                                    :TOC_4_gh:noexport:
- [[#ediff][Ediff]]
- [[#profiler][profiler]]
- [[#文本编辑][文本编辑]]
- [[#查看帮助][查看帮助]]
- [[#文件和缓冲区操作][文件和缓冲区操作]]
- [[#窗口操作][窗口操作]]
- [[#使用技巧][使用技巧]]
- [[#使用模板][使用模板]]
- [[#文件变量][文件变量]]
- [[#文件头修改][文件头修改]]
- [[#高级文本操作][高级文本操作]]

* Ediff
  + 可比较项目:
    |---------------+--------------------------------------|
    | 比较项目      | 说明                                 |
    |---------------+--------------------------------------|
    | ediff-buffers | 询问两个缓冲区的名字，然后比较       |
    | ediff-files   | 询问两个文件的名字，加载之，然后比较 |
    | ....          | ....                                 |
    |---------------+--------------------------------------|

  + 快捷键
     |---------+---------------------------+--------------------------------------------------------------|
     | 快捷键  | 命令                      | 说明                                                         |
     |---------+---------------------------+--------------------------------------------------------------|
     | space/n | ediff-next-difference     | 下一个差异处                                                 |
     | del/p   | ediff-previous-difference | 上一个差异处                                                 |
     | [n]j    | ediff-jump-to-difference  | 有数字前缀 [n] 修饰，第n个差异处,n可为负数                   |
     | a       | ediff-copy-A-to-B         | 把Buffer-A的内容复制到Buffer-B                               |
     | b       | ediff-copy-B-to-A         | 把Buffer-B的内容复制到Buffer-A                               |
     | z       | ediff-suspend             | 关闭 ediff control buffer, 只是挂起，可在以后恢复 ediff 状态 |
     | q       | ediff-quit                | 关闭 ediff control buffer， 并退出 ediff                     |
     | ...     | ...                       | ...                                                          |
     |---------+---------------------------+--------------------------------------------------------------|

* profiler
  + profiler-start 启动监控
  + profiler-report 显示信息

* 文本编辑
  + 输入特殊字符 ::
    + C-q 转义
    + C-q C-l 分页符
    + C-x 8 RET 输入特殊字符
    + C-x 8 <key> 选择特殊字符输入
    + C-x RET C-\ Tex RET 输入 tex 字符
  + 复制粘贴 ::
    + M-w 拷贝
    + C-w 剪切
    + C-y 粘贴
  + 基本操作 ::
    + M-d 删除光标好单词
    + M-Backspace 删除光标前单词
    + C-k 删除行
    + C-x h 选中所有文本
  + 文本对齐 ::
    + [[https://www.emacswiki.org/emacs/AlignCommands][AlignCommands]] 
 
* 查看帮助
  + C-h C-h 关于帮助的帮助
  + C-h k/f/v 查看 快捷键/函数/变量 的帮助
  + C-h r 在 Emacs 类阅读 Emacs manual
  + C-h l 查看最近输入了什么按键以及对应的命令

* 文件和缓冲区操作
  + 基本操作 ::
    + C-x C-f 查找或新建文件
    + C-x C-w 另存为
    + C-x k 关闭当前 buffer
  + 文件管理器 ::
    + 实用的快捷键和命令：
      + Enter: 打开文件或目录
      + q: 退出当前 dired
      + C: 复制文件
      + R: 重命名或移动文件
      + D: 删除文件
      + +: 新建文件夹
      + Z: 压缩/解压缩文件

    + 标记：
      + m: 标记一个文件
      + u: 撤销标记
      + U: 撤销所有标记
      + % m: 通过正则表达式标记

    + 导航：
      + g: 刷新
      + ^: 跳转到父目录
      + >: 下一个子目录
      + <: 上一个子目录

    + 其他：
      + x: 删除所有 D 标记的文件， 使用 d 标记为 D

* 窗口操作
  + C-x 0 关闭当前窗口
  + C-x 1 保留一个窗口
  + C-x 2 上下分割窗口
  + C-x 3 左右分割窗口
  + C-x o 移动到另一个窗口

  窗口大小：
  + C-x ^: 增高
  + C-x }: 增宽
  + C-x {: 减宽
  + C-x -: 缩小窗口以适应内容
  + C-x +: 所有窗口等宽等高

  Emacs:
  + C-x C-z 最小化 Emacs

* 使用技巧
  + 替换文件后缀名 ::
    + 进入 dir-mode
    + C-x C-q 进入编辑模式
    + 使用 query-replace 替换后缀名
    + C-c C-c 保存修改

  + 录制键盘操作的宏 ::
    + F3 开始录制宏, F4 结束录制, F4 使用宏

  + VC(版本控制) ::
    + C-x v =: 查看改动
    + C-x v v: 准备提交
    + C-c C-c: 确认提交
    + M-x vc-version-diff: 版本对比

* 使用模板
  + [[http://www.fidding.me/article/18][emacs yasnippet自定义模版配置与使用]]

* 文件变量
  + [[https://www.gnu.org/software/emacs/manual/html_node/emacs/Specifying-File-Variables.html#Specifying-File-Variables][Specifying File Variables]]

  :   -*- mode: modename; var: value; ... -*-

* 文件头修改
  + [[https://honmaple.me/articles/2018/01/emacs%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E6%96%87%E4%BB%B6%E5%A4%B4.html][emacs 自动更新文件头]]
  + [[https://honmaple.me/articles/2018/01/emacs%E8%87%AA%E5%8A%A8%E6%B7%BB%E5%8A%A0%E6%96%87%E4%BB%B6%E5%A4%B4.html][emacs 自动添加文件头]]
    
* 高级文本操作
  + [[https://www.ibm.com/developerworks/cn/education/aix/au-emacs3/index.html][高级 Emacs 文本操作]]

