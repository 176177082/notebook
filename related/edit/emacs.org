#+SETUPFILE:  ../_style/style.setup
#+TITLE:      emacs 笔记

* spacemacs
** 快捷键
   #+CAPTION: Python-mode 快捷键
   |---------+----------------------+------|
   | 快捷键  | 作用                 | 相关 |
   |---------+----------------------+------|
   | C-c C-c | ipython 脚本运行终止 | ...  |
   |---------+----------------------+------|
   | SPC j = | 格式对齐             | ..   |
   |---------+----------------------+------|

   #+CAPTION: 常用快捷键
   |--------+------------+------|
   | 快捷键 | 作用       | 相关 |
   |--------+------------+------|
   | C-n/p  | 选择补全项 | ...  |
   |--------+------------+------|
** 窗口分割
   默认快捷键: SPC-w-s/v
   设置宽度: C-u 宽度 SPC-w-s/v

** 字体设置
   spacemacs 默认字体设置为 nil

   使用 cnfonts 获取设置字体的 lisp 语句
   放到 user-init 中

** 保留的 emacs 快捷键
   M-v     向后移动一屏
   C-l     重绘屏幕，并将光标所在行置于屏幕的中央, 连续 C-l 调整当前行位置


   M-f     向右移动一个词【对中文是移动到下一个标点符号】
   M-b     向左移动一个词【对中文是移动到上一个标点符号】

   M-a     移动到句首 × 不好用
   M-e     移动到句尾 × 不好用

   M-<DEL>      移除光标前的一个词
   M-d          移除光标后的一个词

   C-k          移除从光标到“行尾”间的字符
   M-k          移除从光标到“句尾”间的字符

   C-y           召回最近移除的文字
   M-y           召回前几次移除的文字

   C-/           撤销

   C-x C-f   寻找一个文件
   C-x C-s   储存这个文件

   C-x C-b   列出缓冲区

   C-x s   保存多个缓冲区

   C-x     字符扩展。  C-x 之后输入另一个字符或者组合键。
   M-x     命令名扩展。M-x 之后输入一个命令名。

* 使用技巧
  + 触手可及的文档 ::
    + C-h C-h: 关于帮助的帮助
    + C-h k/f/v: 查看 快捷键/函数/变量 的帮助
    + C-h r: 在 Emacs 内阅读 Emacs manual

  + 录制键盘操作的宏 ::
    F3 开始录制宏, F4 结束录制, F4 使用宏

  + VC(版本控制) ::
    + C-x v =: 查看改动
    + C-x v v: 准备提交
    + C-c C-c: 确认提交
    + M-x vc-version-diff: 版本对比

  + 输入特殊字符 ::
   + 快捷键： ~C-x RET C-\ TeX RET~

* 替换文件后缀名
  1. 进入 dir-mode
  2. C-x C-q 进入编辑模式
  3. 使用 query-replace 替换后缀名
  4. C-c C-c 保存修改

* ediff
  + 可比较项目:
    |---------------+--------------------------------------|
    | 比较项目      | 说明                                 |
    |---------------+--------------------------------------|
    | ediff-buffers | 询问两个缓冲区的名字，然后比较       |
    | ediff-files   | 询问两个文件的名字，加载之，然后比较 |
    | ....          | ....                                 |
    |---------------+--------------------------------------|

  + 快捷键
     |---------+---------------------------+--------------------------------------------------------------|
     | 快捷键  | 命令                      | 说明                                                         |
     |---------+---------------------------+--------------------------------------------------------------|
     | space/n | ediff-next-difference     | 下一个差异处                                                 |
     | del/p   | ediff-previous-difference | 上一个差异处                                                 |
     | [n]j    | ediff-jump-to-difference  | 有数字前缀 [n] 修饰，第n个差异处,n可为负数                   |
     | a       | ediff-copy-A-to-B         | 把Buffer-A的内容复制到Buffer-B                               |
     | b       | ediff-copy-B-to-A         | 把Buffer-B的内容复制到Buffer-A                               |
     | z       | ediff-suspend             | 关闭 ediff control buffer, 只是挂起，可在以后恢复 ediff 状态 |
     | q       | ediff-quit                | 关闭 ediff control buffer， 并退出 ediff                     |
     | ...     | ...                       | ...                                                          |
     |---------+---------------------------+--------------------------------------------------------------|

* evil
  + 匹配对应的括号： ~%~
* 文件管理器
  + [[http://lifegoo.pluskid.org/wiki/EmacsAsFileManger.html][Emacs -- 强大的文件管理器]]
